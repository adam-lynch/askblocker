<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>AskBlocker</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="manifest" href="site.webmanifest">
        <link rel="apple-touch-icon" href="icon.png">
        <link rel="stylesheet" href="styles.css">
    </head>
    <body>
        <main><h1><img src="askBlocker.png" alt="AskBlocker"></h1>
<p>Browser extensions which block overly-eager permission requests for notifications, location, etc. For example, ones that happen before you've interacted with the page. This was created as part of <a href="https://adamlynch.com/improve-permissions-ux">How to improve your permissions UX</a> (not published yet!).</p>
<p><img src="chrome-screenshot.png" alt="A screenshot of the Chrome extension"> <img src="firefox-screenshot.png" alt="A screenshot of the Firefox add-on"></p>
<h2>Installation</h2>
<ul>
<li><a href="https://chrome.google.com/webstore/detail/askblocker/eelfgnmggfgncoipinopobfcabnfknho">Install for Chrome / Vivaldi</a>.</li>
<li><a href="https://addons.mozilla.org/en-GB/firefox/addon/askblocker/">Install for Firefox</a>.</li>
<li><a href="https://github.com/brave/browser-laptop/wiki/Developer-Notes-on-Installing-or-Updating-Extensions">Install for Brave</a>.</li>
</ul>
<h2>How it works</h2>
<p>Permissions requests are blocked until you've interacted with the page; i.e. click, tap, or key press. Although there are the following exceptions:</p>
<ul>
<li>If the permission has been previously requested and granted (or explicitly denied).</li>
<li>If the domain is <code>localhost</code> or <code>127.0.0.1</code>.</li>
<li>If you've navigated to the current page from another page on the same domain.</li>
</ul>
<h2>Things not covered and why</h2>
<ul>
<li>Accelerometer, gyroscope, magnetometer, device motion, device orientation, etc. They don't trigger a permissions request popup.</li>
<li>Ambient light sensor. It doesn't trigger a permissions request popup.</li>
<li>Bluetooth. This can only be requested <a href="https://webbluetoothcg.github.io/web-bluetooth/#requestDevice-user-gesture">due to user interaction anyway</a>.</li>
<li>Clipboard. It doesn't trigger a permissions request popup.</li>
<li>Flash. I don't know how the prompt is triggered or how I can intercept this.</li>
<li>Geolocation's <code>watchPosition</code> method. There's no way to achieve this without breaking stuff. It returns an ID and it doesn't offer any way to check the status of the permission, like <code>Notification.permission</code>. The Permission API could be used but it's asynchronous (Promise based), so there's no way to use it and also still return the ID.</li>
<li>Web USB. Not really supported yet (and the Permission API doesn't support it yet), so it probably won't be annoying anyone.</li>
</ul>
<h2>Why aren't there extensions for other browsers?</h2>
<p>There could be (not much of the code would have to change). Do you want to help? They wouldn't be less useful as the existing extensions though. For example, Microsoft Edge and Safari do not support the <a href="https://w3c.github.io/permissions/">Permissions API</a> (at the time of writing this anyway), which means permission requests for some things like geolocation can't be blocked without blocking legitimate usage.</p>
<p>I also couldn't quite get it to work in Firefox for Android, but I welcome any suggestions.</p>
<h2>Contributing</h2>
<p>Contributions are welcome. See <a href="https://github.com/adam-lynch/askblocker/blob/master/CONTRIBUTING.md">CONTRIBUTING.md</a>.</p>
<h2>Licenses</h2>
<p>The code is <a href="https://github.com/adam-lynch/askblocker/blob/master/LICENSE">MIT</a>, feel free to do whatever with it, but most of the icons are not; see <a href="https://github.com/adam-lynch/askblocker/blob/master/src/icons/credits.md">src/icons/credits.md</a> for details.</p>
</main>

        <!--Subtle GitHub link in the top right corner -->
        <a href="https://github.com/adam-lynch/askblocker" class="github-corner" aria-label="View source on Github"><svg width="80" height="80" viewBox="0 0 250 250" style="fill:#f1f1f1; color:#fff; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>

        <script>
            window.ga=function(){ga.q.push(arguments)};ga.q=[];ga.l=+new Date;
            ga('create','UA-31546953-1','auto');ga('send','pageview')
        </script>
        <script src="https://www.google-analytics.com/analytics.js" async defer></script>
    </body>
</html>
